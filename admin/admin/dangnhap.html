<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="reset.css" />
    <link
      rel="stylesheet"
      href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css"
    />
    <title>login.vn</title>
  </head>
  <body>
    <div id="wrapper">
      <form action="" id="form-login">
        <h1 class="form-heading">ƒêƒÉng nh·∫≠p</h1>
        <div class="form-group">
          <i class="far fa-user"></i>
          <input type="text" class="form-input" placeholder="T√™n ƒëƒÉng nh·∫≠p" />
        </div>
        <div class="form-group">
          <i class="fas fa-lock"></i>
          <input type="password" class="form-input" placeholder="M·∫≠t kh·∫©u" />
          <div id="eye">
            <i class="far fa-eye"></i>
          </div>
        </div>
        <div class="link">
          <a href="#">Qu√™n m·∫≠t kh·∫©u?</a>
          <a href="dangky.html">ƒêƒÉng k√Ω</a>
        </div>
        <input type="submit" value="ƒêƒÉng nh·∫≠p" class="form-submit" />
      </form>
    </div>
    <script>
      // ‚úÖ Ki·ªÉm tra ƒëƒÉng nh·∫≠p
      if (!localStorage.getItem("isAdmin")) {
        window.location.href = "dangnhap.html";
      }

      // ‚úÖ ƒêƒÉng xu·∫•t
      const logoutBtn = document.getElementById("logout-btn");
      logoutBtn.addEventListener("click", () => {
        localStorage.removeItem("isAdmin");
        window.location.href = "dangnhap.html";
      });

      // ‚úÖ Hi·ªÉn th·ªã t√™n admin (n·∫øu c√≥)
      const currentUser = JSON.parse(
        localStorage.getItem("currentUser") || "{}"
      );
      if (currentUser.username) {
        document.getElementById("adminName").innerHTML =
          currentUser.username + ' <i class="ri-arrow-down-s-fill"></i>';
      }

      // ‚úÖ M·ªü/ƒë√≥ng submenu
      const menuItems = document.querySelectorAll(
        ".admin-sidebar-content > ul > li"
      );
      menuItems.forEach((item) => {
        const submenu = item.querySelector(".sub-menu");
        const toggleIcon = item.querySelector(".toggle-icon");
        item.addEventListener("click", (e) => {
          e.preventDefault();
          if (!submenu) {
            menuItems.forEach((i) => i.classList.remove("active"));
            item.classList.add("active");
            return;
          }
          document.querySelectorAll(".sub-menu").forEach((sub) => {
            if (sub !== submenu) sub.classList.remove("active");
          });
          if (toggleIcon) toggleIcon.classList.toggle("rotate");
          submenu.classList.toggle("active");
        });
      });

      // ‚úÖ H√†m load n·ªôi dung trang ch√≠nh
      const mainContent = document.getElementById("main-content");
      const pageTitle = document.getElementById("page-title");

      // üëâ T·∫°o h√†m loadContent ri√™ng ƒë·ªÉ t√°i s·ª≠ d·ª•ng
      function loadContent(target, title) {
        pageTitle.textContent = title;

        // === DANH S√ÅCH ƒê∆†N H√ÄNG ===
        if (target === "orders-list") {
          mainContent.innerHTML = `
        <div class="admin-content-main-content-order-list">
          <table class="product-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>T√™n kh√°ch h√†ng</th>
                <th>S·ªë ƒëi·ªán tho·∫°i</th>
                <th>Email</th>
                <th>ƒê·ªãa ch·ªâ</th>
                <th>Ghi ch√∫</th>
                <th>Chi ti·∫øt</th>
                <th>Ng√†y ƒë·∫∑t</th>
                <th>Tr·∫°ng th√°i</th>
                <th>T√πy ch·ªânh</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Nguy·ªÖn VƒÉn A</td>
                <td>0123456789</td>
                <td>a@gmail.com</td>
                <td>HCM</td>
                <td>Giao nhanh</td>
                <td><a href="#" class="view-detail" data-target="orders-detail">Xem</a></td>
                <td>2023-12-23</td>
                <td><span class="status success">ƒê√£ giao</span></td>
                <td><a class="delete-class" href="#">X√≥a</a></td>
              </tr>
              <tr>
                <td>2</td>
                <td>Tr·∫ßn Th·ªã B</td>
                <td>0987654321</td>
                <td>b@gmail.com</td>
                <td>H√† N·ªôi</td>
                <td>Giao gi·ªù h√†nh ch√≠nh</td>
                <td><a href="#" class="view-detail" data-target="orders-detail">Xem</a></td>
                <td>2023-12-25</td>
                <td><span class="status pending">Ch·ªù x·ª≠ l√Ω</span></td>
                <td><a class="delete-class" href="#">X√≥a</a></td>
              </tr>
            </tbody>
          </table>
        </div>
      `;
          attachViewDetailEvent(); // üëâ G·∫Øn l·∫°i s·ª± ki·ªán sau khi load
          return;
        }

        // === CHI TI·∫æT ƒê∆†N H√ÄNG ===
        if (target === "orders-detail") {
          mainContent.innerHTML = `
        <div class="admin-content-main-content-order-detail">
          <h3>Chi ti·∫øt ƒë∆°n h√†ng #1</h3>
          <table class="product-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>·∫¢nh</th>
                <th>T√™n s·∫£n ph·∫©m</th>
                <th>Gi√°</th>
                <th>S·ªë l∆∞·ª£ng</th>
                <th>Th√†nh ti·ªÅn</th>
                <th>T√πy ch·ªânh</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td><img style="width:70px" src="image.avif" alt="ƒê·ªìng h·ªì Casio" /></td>
                <td>ƒê·ªìng h·ªì Casio</td>
                <td>120,000</td>
                <td>2</td>
                <td>240,000</td>
                <td><a class="delete-class" href="#">X√≥a</a></td>
              </tr>
              <tr>
                <td>2</td>
                <td><img style="width:70px" src="image.avif" alt="ƒê·ªìng h·ªì c·ªï" /></td>
                <td>ƒê·ªìng h·ªì c·ªï</td>
                <td>150,000</td>
                <td>1</td>
                <td>150,000</td>
                <td><a class="delete-class" href="#">X√≥a</a></td>
              </tr>
              <tr>
                <td colspan="5" style="font-weight:700">T·ªïng c·ªông</td>
                <td style="font-weight:700">390,000</td>
              </tr>
            </tbody>
          </table>
        </div>
      `;
          return;
        }

        // === DANH S√ÅCH S·∫¢N PH·∫®M ===
        if (target === "product-list") {
          mainContent.innerHTML = `
        <div class="admin-content-main-content-product-list">
          <table class="product-table">
            <thead>
              <tr>
                <th>ID</th>
                <th>·∫¢nh</th>
                <th>T√™n S·∫£n Ph·∫©m</th>
                <th>Gi√° B√°n</th>
                <th>Gi√° Gi·∫£m</th>
                <th>Ng√†y ƒêƒÉng</th>
                <th>T√πy Ch·ªânh</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td><img style="width:70px" src="image.avif" alt="ƒê·ªìng h·ªì Casio" /></td>
                <td>ƒê·ªìng h·ªì Casio</td>
                <td>120,000</td>
                <td>100,000</td>
                <td>2023-10-27</td>
                <td><a class="edit-class">S·ª≠a</a> | <a class="delete-class">X√≥a</a></td>
              </tr>
              <tr>
                <td>2</td>
                <td><img style="width:70px" src="image.avif" alt="ƒê·ªìng h·ªì c·ªï" /></td>
                <td>ƒê·ªìng h·ªì c·ªï</td>
                <td>220,000</td>
                <td>150,000</td>
                <td>2023-10-28</td>
                <td><a class="edit-class">S·ª≠a</a> | <a class="delete-class">X√≥a</a></td>
              </tr>
            </tbody>
          </table>
        </div>
      `;
          return;
        }

        // === TH√äM S·∫¢N PH·∫®M ===
        if (target === "product-add") {
          mainContent.innerHTML = `
        <div class="admin-content-main-content-product-add">
          <div class="admin-content-main-content-left">
            <div class="admin-content-main-content-two-input">
              <input type="text" placeholder="T√™n s·∫£n ph·∫©m" />
              <input type="text" placeholder="Ch·∫•t li·ªáu" />
            </div>
            <div class="admin-content-main-content-two-input">
              <input type="text" placeholder="Gi√° b√°n" />
              <input type="text" placeholder="Gi√° gi·∫£m" />
            </div>
            <textarea placeholder="ƒê·∫∑c ƒëi·ªÉm"></textarea>
            <textarea placeholder="M√¥ t·∫£ s·∫£n ph·∫©m"></textarea>
            <button class="main-btn">Th√™m s·∫£n ph·∫©m</button>
          </div>
          <div class="admin-content-main-content-right">
            <div class="admin-content-main-content-right-image">
              <label for="file">·∫¢nh ƒë·∫°i di·ªán</label>
              <input id="file" type="file" />
              <div class="image-show"></div>
            </div>
            <div class="admin-content-main-content-right-images">
              <label for="files">·∫¢nh s·∫£n ph·∫©m</label>
              <input id="files" type="file" multiple />
              <div class="images-show"></div>
            </div>
          </div>
        </div>
      `;
          return;
        }

        // === M·∫∑c ƒë·ªãnh
        mainContent.innerHTML = `<p>Ch·ª©c nƒÉng <b>${title}</b> ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn...</p>`;
      }

      // üëâ G·∫Øn s·ª± ki·ªán click cho c√°c li√™n k·∫øt menu
      document.querySelectorAll(".menu-link").forEach((link) => {
        link.addEventListener("click", (e) => {
          e.preventDefault();
          loadContent(link.dataset.target, link.textContent.trim());
        });
      });

      // üëâ H√†m g·∫Øn s·ª± ki·ªán cho "Xem chi ti·∫øt" trong danh s√°ch ƒë∆°n h√†ng
      function attachViewDetailEvent() {
        const viewLinks = document.querySelectorAll(".view-detail");
        viewLinks.forEach((v) => {
          v.addEventListener("click", (e) => {
            e.preventDefault();
            loadContent("orders-detail", "Chi ti·∫øt ƒë∆°n h√†ng");
          });
        });
      }
    </script>
  </body>
  <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="dangnhap.js"></script>
</html>
